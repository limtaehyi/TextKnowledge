시스템 해킹 정리

1. 시스템 해킹
 - 기본적으로 권한이 없는 단말기에서 root나 다른 권한을 가지는 행위를 뜻한다.


2. 종류
 - 힙,스택 오버 플로우
 - 버퍼 오버 플로우
  - 공격 기법
  - 보호 기법
 - 레이스 컨디션
 - 포멧 스트링
 - 커멘드 인젝션
 - 디렉토리 트래버설
 - 아웃 오브 바운드
 - 오프 바이 원
 - UAF, Double Free


3. 힙, 스택 오버 플로우
 - 낮은 주소에서 높은 주소로 쓰이는 힙, 높은 주소에서 낮은 주소로 쓰이는 스택, 그 사이에 있는 공유 라이브러리에서 힙이나 스택이 할당받은 주소 그 이상 사용되어 다른 영역을 침범하는 행위
 - 힙은 잘못 할당되거나 free하지 않아 발생
 - 스택은 잘못된 재귀함수 사용으로 인한 스택의 비정상적인 증가로 인해 발생


4. 버퍼 오버 플로우
 - 스택에서는 검증되지 않은 크기나 문자열을 입력받아 스택프레임의 구조인 가장 아래에 있는 RET, SFP를 덮어 써서 공격

 4.1 공격 기법
  - RTL
  ㄴ return to library
  - RTL chaining
  ㄴ 연쇄 RTL
  - Shell code
  ㄴ 컴파일후 만들어진 임의적인 어셈블리어 명령어 모음
  ㄴ 각 시스템이나 OS에 맞게 코딩 해야하며 00 같은 명령어가 없어야 하기 때문에 RAX, EAX, AX, AH, AL 같은 최적화 필요
  - NOP sled
  ㄴ 메모리 보호기법이 걸려있어 정확한 쉘코드의 위치를 모를 경우 위에 NOP 명령어들을 넣어 NOP 중간 주소로 가도록 함. 
  ㄴ NOP 중간 주소에 걸리면 자연스럽게 아래에 있는 쉘코드로 내려가짐.
  - Fake EBP
  - GOT Overwrite
  - ROP
 4.2 보호 기법
  - NX bit
  - ASLR
  - Stack Guard
  - Stack Shield
  - 취약한 함수 사용 금지
  - 최신 OS 사용
5. 레이스 컨디션
6. 포멧 스트링
7. 커멘드 인젝션
8. 디렉토리 트래버설
9. 아웃 오브 바운드
10. 오프 바이 원
11. UAF, Double Free
