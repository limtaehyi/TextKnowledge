시스템 해킹 정리

1.해킹의 정의
-해킹 전체가 범죄는 아니나 해킹을 불순한 의도로 사용하면 범죄가 된다. 
 해킹의 원래 의미는 프로그램 원 제작자가 걸어놓은 프로그램 코드 락 알고리즘을 뚫어서 
 프로그램 소스를 알아내거나, 프로그램 소스를 변경해서 자기 입맛에 맞게 바꾸어 버리는 
 모든 행위를 포함한다. 즉 프로그램 자체를 바꾸는건 해킹인데 그걸 나쁘게 바꾸는게 크래킹이란 소리다. 
-해킹에는 종류에는 리버싱인 바이너리, 시스템인 포너블, 웹해킹, 크립토, 네트워크, 포렌식, misc이 있다.
-기타적으로 알아두며 좋은 것들이 php, jsp, sql, winAPI등이 있다.

2.시스템적 해킹
-시스템적 해킹은 ftp,ssh,smtp,백도어로 하는 해킹이 있고 파일 암호를 뚫거나, 버퍼오버플로어, 네트워크 맵 파악등 여러가지가 있다.


3.port
-ftp, ssh, telnet은 계정이름과 비밀번호만 있으면 뚫을 수 있기 때문에 brute force(무차별 대입)으로 뚫는다.
-ftp는 21번 ssh는 22번 telnet은 23이다.
-포트스캔에는 여러 종류가 있으며 그외 ping sweeping, stealth scanning, udp scanning, os fingerprinting등 여러가지가 있다.
-백도어는 사용자 모르게 다른 포트를 열어 놓는 문을 말한다.
-ftp, ssh, telnet 대처 방법은 계정 입력 횟수를 제한하거나, 비밀번호를 어렵게 만드는 것 뿐이다.
-백도어 대처 방법은 평소에 백도어 프로그램 체크와 프로세스를 관제하는 방법이 있다.


4.password
-패스워드를 뚫는 툴은 john the ripper와 hashcat등이 있다.
-이것들은 거의 brute force방법들을 쓰고 여러가지 옵션들이 있다.


5.buffer overflow
-버퍼 오버플로어를 하나의 예로 들어보겠다
 어떤 소설을 쓰고 난후 원고를 검토한다 해보자 그때 오.탈자는 몇 개나 있을까?
 만약 오.탈자를 다 잡았다해도 문맥상 오류가 있을 수 있다.
 예를들어 aunt가 전반부에서는 고모인데 후반부에는 숙모나 이모가 되있을 수 있다. 이것은 문서 편집기의 교정 기능으로 교정 할 수가 없다.
 이게 바로 버퍼 오버플로우다.
-버퍼 오버플로우의 정의는 
 지정한 버퍼용량을 초과한 데이터가 인접 영역에 위치한 데이터를 덮어 쓰면서 프로그램의 흐름 제어를 변경 하는 기법이다.
-이 내용을 알려면 메모리 구조와 스택으 동작 그리고 어셈블리어 언어와 c언어 등의 사전 지식이 필요하다.


6.리버싱 엔지니어링
-리버싱은 장점과 단점이 분명한데
 장점은 악성코드의 행동을 분석하여 앞으로 할 행동을 미리 막을 수 있다. 하지만 단점은 소스코드의 노출이다.
 소스코드 노출은 개발자 입장으로는 치명적이다.
-이걸 악용하면 핵개발이나 게임 복제등이다.
-핵개발 예로서는 월핵이 대표적이고 에임핵등이 있다.
-게임 복제는 하스스톤을 예로 들 수 있다. 
 예전에 하스스톤이 리버싱되어 중국에서 짝퉁 게임이 유행한적이 있다.


7.hooking
-후킹은 운영체제나 응용 소프트웨어등의 컴퓨터 프로그램에서 소프트웨어 구성 요소간에 발생하는 함수 호출, 메세지, 이벤트등을 중간에 바꾸거나 가로채는 명령, 방법
 기술들을 말한다.
-크래킹할때 크래킹 대상의 컴퓨터 정보나 키로그등을 빼돌리기 위해 사용된다.
-방법은 물리적 수정과 런타임 수정이 있고 특정 API를 후킹하면 해당 API의 리턴값 조작등의 동작을 할 수 있다.


8.DoS
-Denial of Service
-서비스 거부 공격은 서버에 과부하를 일으키거나 자원 고갈을 일으켜 서비스의 작동을 중지시키는 것이다.
-분산 서비스 거부공격(DDOS)은 여러대의 공격자를 분산적으로 배치해서 동시에 서비스 거부 공격을 하는 것이다. 명령은 C&C(control and command)서버가 내리고 
 공격은 좀비PC들이 한다.
-DOS는 여러 종류가 있는데 ICMP를 이용하는 스머프 공격, 망가진 IP를 사용해 공격하는 tear drop공격, 플래슁으로 알려진 PDOS공격인 영구 서비스 거부공격등이 있다.
-예방조치는 DOS공격이 시작되면 즉시 조치를 취해야 하는데 행심서버들의 비상시 IP를 준비하고 분산시켜놓는 것이 중요하다.
 라우터는 스위치처럼 트래픽 제한을 걸어 놓아야 한다.


9.세션 하이재킹
-서로의 연결을 도청하거나 뺏거나 끊는 것이다.
-hunt(세션 하이재킹 툴)은 arp스푸핑 감지, 접속 리셋, 접속 감시등의 역할을 한다.
-클라이언트가 서버로 telnet접속을 한다.
 ->공격자가 arp스푸핑으로 패킷흐름을 공격자로 변경
 ->클라이언트와 서버와의 통신을 끊고, 해당 세션을 클라이언트로 부터 빼앗는다.
-대처법은 ssh을 사용하는 것이다.


10.tool
-사용 포트의 유무를 알 수 있는 hping3, nmap, zenmap
-패스워트 크랙의 john the ripper, hashcat
-여러 공격이나 웹셸등을 볼 수 있는곳 https://www.exploit-db.com
-리버싱 툴 ollydbg, ida pro
-ddos 툴 HOIC, LOIC, blackddos, Lang DDos
-세션 하이재킹 툴 hunt.i686

